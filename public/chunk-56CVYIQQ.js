import{A as ue,B as A,C as b,D as n,E as o,F as l,G as ge,H as me,I as z,J as we,K as fe,L as s,M as Ae,N as f,O as be,P as I,Q as N,R as O,S as ve,U as G,V as he,W as ye,X as xe,Z as Ce,a as te,aa as k,b as ie,ba as Pe,c as $,ca as D,d as F,da as Se,e as K,f as W,g as _,h as u,i as J,j as re,k as ne,l as oe,m as ae,n as X,o as x,p as S,q as j,r as p,s as se,t as d,u as pe,v as le,w as g,x as ce,y as ee,z as de}from"./chunk-SNVZGBMS.js";var L=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=d({type:i,selectors:[["front-navbar"]],decls:32,vars:0,consts:[[1,"navbar","bg-base-100","shadow-sm"],[1,"navbar-start"],[1,"dropdown"],["tabindex","0","role","button",1,"btn","btn-ghost","lg:hidden"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h8m-8 6h16"],["tabindex","0",1,"menu","menu-sm","dropdown-content","bg-base-100","rounded-box","z-1","mt-3","w-52","p-2","shadow"],["routerLink","/gender/men","routerLinkActive","text-secondary",1,"btn","btn-ghost"],["routerLink","/gender/women","routerLinkActive","text-secondary",1,"btn","btn-ghost"],["routerLink","/gender/kid","routerLinkActive","text-secondary",1,"btn","btn-ghost"],["routerLink","/",1,"btn","btn-ghost","text-xl","font-montserrat"],[1,"text-secondary"],[1,"navbar-center","hidden","lg:flex"],[1,"menu","menu-horizontal","px-1"],[1,"navbar-end"]],template:function(e,r){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),oe(),n(4,"svg",4),l(5,"path",5),o()(),ae(),n(6,"ul",6)(7,"li")(8,"a",7),s(9,"Hombres"),o()(),n(10,"li")(11,"a",8),s(12,"Mujeres"),o()(),n(13,"li")(14,"a",9),s(15,"Ni\xF1os"),o()()()(),n(16,"a",10),s(17," Teslo "),n(18,"span",11),s(19,"| Shop"),o()()(),n(20,"div",12)(21,"ul",13)(22,"li")(23,"a",7),s(24,"Hombres"),o()(),n(25,"li")(26,"a",8),s(27,"Mujeres"),o()(),n(28,"li")(29,"a",9),s(30,"Ni\xF1os"),o()()()(),l(31,"div",14),o())},dependencies:[D,Se],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})};var T=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=d({type:i,selectors:[["store-front-layout"]],decls:3,vars:0,consts:[[1,"container","mx-auto","px-4"]],template:function(e,r){e&1&&(l(0,"front-navbar"),n(1,"section",0),l(2,"router-outlet"),o())},dependencies:[Pe,L],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})};function Y(i,t){let e=!t?.manualCleanup;e&&!t?.injector&&J(Y);let r=e?t?.injector?.get(X)??u(X):null,c=Ee(t?.equal),a;t?.requireSync?a=S({kind:0},{equal:c}):a=S({kind:1,value:t?.initialValue},{equal:c});let P=i.subscribe({next:m=>a.set({kind:1,value:m}),error:m=>{if(t?.rejectErrors)throw m;a.set({kind:2,error:m})}});if(t?.requireSync&&a().kind===0)throw new W(601,!1);return r?.onDestroy(P.unsubscribe.bind(P)),G(()=>{let m=a();switch(m.kind){case 1:return m.value;case 2:throw m.error;case 0:throw new W(601,!1)}},{equal:t?.equal})}function Ee(i=Object.is){return(t,e)=>t.kind===1&&e.kind===1&&i(t.value,e.value)}function C(i){return i?.injector||J(C),ye(ie(te({},i),{loader:void 0,stream:t=>{let e,r=()=>e.unsubscribe();t.abortSignal.addEventListener("abort",r);let c=S({value:void 0}),a,P=new Promise(y=>a=y);function m(y){c.set(y),a?.(c),a=void 0}return e=i.loader(t).subscribe({next:y=>m({value:y}),error:y=>m({error:y}),complete:()=>{a&&m({error:new Error("Resource completed before producing a value")}),t.abortSignal.removeEventListener("abort",r)}}),P}}))}var Q={BASE_URL:"http://localhost:3002/api"};var Me=Q.BASE_URL,E=class i{transform(t){let e="/assets/images/no-image.jpg",r=`${Me}/files/product/`;if(typeof t=="string")return`${r}${t}`;let c=t.at(0);return c?`${r}${c}`:e}static \u0275fac=function(e){return new(e||i)};static \u0275pipe=pe({name:"productImage",type:i,pure:!0})};var ke=i=>["/product",i],M=class i{product=x.required();static \u0275fac=function(e){return new(e||i)};static \u0275cmp=d({type:i,selectors:[["product-card"]],inputs:{product:[1,"product"]},decls:13,vars:16,consts:[[1,"card","bg-base-100","shadow-2xl","animate-fadeIn"],[3,"src","alt"],[1,"card-body"],[1,"card-title","font-montserrat","text-accent","text-xl","hover:underline","cursor-pointer",3,"routerLink"],[1,"card-actions","justify-end"],[1,"link","link-accent",3,"routerLink"]],template:function(e,r){e&1&&(n(0,"div",0)(1,"figure"),l(2,"img",1),N(3,"productImage"),o(),n(4,"div",2)(5,"h2",3),s(6),o(),n(7,"p"),s(8),N(9,"slice"),o(),n(10,"div",4)(11,"a",5),s(12,"Ver producto "),o()()()()),e&2&&(p(2),g("src",O(3,6,r.product().images),j)("alt",r.product().title),p(3),g("routerLink",I(12,ke,r.product().slug)),p(),f(" ",r.product().title," "),p(2),f(" ",ve(9,8,r.product().description,0,70)," "),p(3),g("routerLink",I(14,ke,r.product().slug)))},dependencies:[D,xe,E],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})};var De=Q.BASE_URL,h=class i{http=u(Ce);productsCache=new Map;productCache=new Map;getProducts(t){let{limit:e=9,offset:r=0,gender:c=""}=t,a=`${e}-${r}-${c}`;return this.productsCache.has(a)?$(this.productsCache.get(a)):this.http.get(`${De}/products`,{params:{limit:e,offset:r,gender:c}}).pipe(K(P=>this.productsCache.set(a,P)))}getProductByIdSlug(t){return this.productCache.has(t)?$(this.productCache.get(t)):this.http.get(`${De}/products/${t}`).pipe(K(e=>this.productCache.set(t,e)))}static \u0275fac=function(e){return new(e||i)};static \u0275prov=_({token:i,factory:i.\u0275fac,providedIn:"root"})};var Be=()=>[],Re=i=>({page:i});function Fe(i,t){if(i&1){let e=ge();n(0,"button",2),me("click",function(){let c=re(e).$implicit,a=z();return ne(a.activePage.set(c))}),s(1),o()}if(i&2){let e=t.$implicit,r=z();ce("btn-primary",e===r.activePage()),g("routerLink",be(5,Be))("queryParams",I(6,Re,e)),p(),f(" ",e," ")}}function ze(i,t){}var B=class i{currentPage=x(1);pages=x(0);activePage=he(this.currentPage);getPagesList=G(()=>Array.from({length:this.pages()},(t,e)=>e+1));static \u0275fac=function(e){return new(e||i)};static \u0275cmp=d({type:i,selectors:[["shared-pagination"]],inputs:{currentPage:[1,"currentPage"],pages:[1,"pages"]},decls:4,vars:1,consts:[[1,"join","flex","justify-center","items-center","mt-4","mb-10"],[1,"join-item","btn",3,"routerLink","queryParams","btn-primary"],[1,"join-item","btn",3,"click","routerLink","queryParams"]],template:function(e,r){e&1&&(n(0,"div",0),A(1,Fe,2,8,"button",1,ue,!1,ze,0,0),o()),e&2&&(p(),b(r.getPagesList()))},dependencies:[D],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})};var R=class i{activatedRoute=u(k);currentPage=Y(this.activatedRoute.queryParamMap.pipe(F(t=>t.get("page")?+t.get("page"):1),F(t=>isNaN(t)?1:t)),{initialValue:1});static \u0275fac=function(e){return new(e||i)};static \u0275prov=_({token:i,factory:i.\u0275fac,providedIn:"root"})};var Ie=(i,t)=>t.id;function Ne(i,t){if(i&1&&l(0,"product-card",3),i&2){let e=t.$implicit;g("product",e)}}function Ye(i,t){}var U=class i{productsService=u(h);paginationService=u(R);currentPage=this.paginationService.currentPage;productsResource$=C({request:()=>({page:this.currentPage()-1}),loader:({request:t})=>this.productsService.getProducts({offset:t.page*9})});static \u0275fac=function(e){return new(e||i)};static \u0275cmp=d({type:i,selectors:[["app-home-page"]],decls:9,vars:4,consts:[[1,"text-3xl","font-bold","font-montserrat"],[1,"text-xl","mb-5"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","mt-2","gap-3"],[3,"product"],[3,"pages","currentPage"]],template:function(e,r){if(e&1&&(n(0,"h1",0),s(1),o(),n(2,"h2",1),s(3,"Para todos los gustos"),o(),n(4,"div",2),A(5,Ne,1,1,"product-card",3,Ie,!1,Ye,0,0),o(),l(8,"shared-pagination",4)),e&2){let c,a;p(),f(" Todos los productos ",r.currentPage(),`
`),p(4),b((c=r.productsResource$.value())==null?null:c.products),p(3),g("pages",(a=(a=r.productsResource$.value())==null?null:a.pages)!==null&&a!==void 0?a:0)("currentPage",r.currentPage())}},dependencies:[M,B],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})};var _e=(i,t)=>t.id;function je(i,t){if(i&1&&l(0,"product-card",4),i&2){let e=t.$implicit;g("product",e)}}var q=class i{activatedRoute=u(k);productsService=u(h);paginationService=u(R);currentPage=this.paginationService.currentPage;gender=Y(this.activatedRoute.params.pipe(F(({gender:t})=>t)));productsResource$=C({request:()=>({gender:this.gender(),page:this.currentPage()-1}),loader:({request:t})=>this.productsService.getProducts({gender:t.gender,offset:t.page*9})});static \u0275fac=function(e){return new(e||i)};static \u0275cmp=d({type:i,selectors:[["app-gender-page"]],decls:10,vars:3,consts:[[1,"text-3xl","font-bold","font-montserrat"],[1,"text-accent"],[1,"text-xl","mb-5"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","mt-2","gap-3"],[3,"product"],[3,"pages","currentPage"]],template:function(e,r){if(e&1&&(n(0,"h1",0),s(1," Todos los productos "),n(2,"span",1),s(3),o()(),n(4,"h2",2),s(5,"Para todos los gustos"),o(),n(6,"div",3),A(7,je,1,1,"product-card",4,_e),o(),l(9,"shared-pagination",5)),e&2){let c,a;p(3),Ae(r.gender()),p(4),b((c=r.productsResource$.value())==null?null:c.products),p(2),g("pages",(a=(a=r.productsResource$.value())==null?null:a.pages)!==null&&a!==void 0?a:0)("currentPage",r.currentPage())}},dependencies:[M,B],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})};var Oe=["swiperContainer"];function Ge(i,t){if(i&1&&(n(0,"swiper-slide",2)(1,"div"),l(2,"img",3),N(3,"productImage"),o()()),i&2){let e=t.$implicit;p(2),g("src",O(3,1,e),j)}}var H=class i{images=x.required();swiperDiv=se.required("swiperContainer");ngAfterViewInit(){this.initSwiper()}initSwiper(){let t=this.swiperDiv().nativeElement;if(!t)return;let e=t,r={pagination:{clickable:!0,enabled:!1},navigation:{enabled:!0},loop:this.images().length>1,autoplay:{delay:2e3,disableOnInteraction:!1}};Object.assign(e,r),e.initialize()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=d({type:i,selectors:[["product-carousel"]],viewQuery:function(e,r){e&1&&we(r.swiperDiv,Oe,5),e&2&&fe()},inputs:{images:[1,"images"]},decls:4,vars:0,consts:[["swiperContainer",""],["init","false",1,"h-full","w-full","rounded-2xl","overflow-hidden"],["lazy","true"],["alt","product","loading","lazy",3,"src"]],template:function(e,r){e&1&&(n(0,"swiper-container",1,0),A(2,Ge,4,3,"swiper-slide",2,de),o()),e&2&&(p(2),b(r.images()))},dependencies:[E],styles:["[_nghost-%COMP%]{display:block}.swiper[_ngcontent-%COMP%]{width:100%;height:500px}"],changeDetection:0})};function Le(i,t){i&1&&(n(0,"div",0),l(1,"span",2),o())}function Te(i,t){if(i&1&&(n(0,"div",1),l(1,"product-carousel",3),n(2,"div")(3,"h2",4),s(4),o(),l(5,"div",5),n(6,"p"),s(7),o()()()),i&2){let e=z();p(),g("images",e.productResource$.value().images),p(3),f(" ",e.productResource$.value().title," "),p(3),f(" ",e.productResource$.value().description," ")}}var Z=class i{productsService=u(h);activatedRoute=u(k);productIdSlug=S(this.activatedRoute.snapshot.params.idSlug);productResource$=C({request:()=>({idSlug:this.productIdSlug()}),loader:({request:t})=>this.productsService.getProductByIdSlug(t.idSlug)});static \u0275fac=function(e){return new(e||i)};static \u0275cmp=d({type:i,selectors:[["app-product-page"]],decls:2,vars:2,consts:[[1,"flex","justify-center","items-center","h-[calc(100vh-74px)]"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-6"],[1,"loading","loading-spinner","loading-lg"],[3,"images"],[1,"text-2xl","font-bold","font-montserrat"],[1,"divider"]],template:function(e,r){e&1&&le(0,Le,2,0,"div",0)(1,Te,8,3,"div",1),e&2&&(ee(r.productResource$.isLoading()?0:-1),p(),ee(r.productResource$.hasValue()?1:-1))},dependencies:[H],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})};var V=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=d({type:i,selectors:[["app-not-found-page"]],decls:3,vars:0,template:function(e,r){e&1&&(n(0,"p"),s(1,"not-found-page works!"),o(),s(2,`,
`))},styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})};var Qe=[{path:"",component:T,children:[{path:"",component:U},{path:"gender/:gender",component:q},{path:"product/:idSlug",component:Z},{path:"**",component:V}]},{path:"**",redirectTo:""}],Bi=Qe;export{Bi as default,Qe as storeFrontRoutes};
