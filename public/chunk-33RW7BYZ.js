import{a as F,b as m,c as y,d as E,e as _,g as N,h as T,i as M,j as P,k as I}from"./chunk-OXOCJGUG.js";import{B as l,F as h,Fa as w,K as f,M as x,O as u,T as e,U as t,V as s,X as S,Y as v,aa as a,ba as C,ea as G,p,t as c,u as d,xa as V,ya as b,z as g,za as A}from"./chunk-C55IGHLK.js";var L=class r{static \u0275fac=function(i){return new(i||r)};static \u0275cmp=h({type:r,selectors:[["app-auth-layout"]],decls:5,vars:0,consts:[[1,"flex","items-center","justify-center","min-h-screen"],[1,"w-full","max-w-xs","bg-slate-100","shadow-2xl","rounded-lg","p-4"],[1,"text-2xl","font-montserrat","font-bold","text-secondary","text-center","mb-2"]],template:function(i,n){i&1&&(e(0,"div",0)(1,"div",1)(2,"h1",2),a(3," Autenticaci\xF3n "),t(),s(4,"router-outlet"),t()())},dependencies:[V],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})};var q=()=>["/auth/register"];function H(r,o){r&1&&(e(0,"div",12),c(),e(1,"svg",13),s(2,"path",14),t(),d(),e(3,"span"),a(4,"Correo o contrase\xF1a incorrectos."),t()())}var R=class r{fb=p(M);authService=p(w);router=p(b);hasError=g(!1);isPosting=g(!1);loginForm=this.fb.group({email:["",[m.required,m.email]],password:["",[m.required,m.minLength(6)]]});onSubmit(){if(this.loginForm.invalid){this.errorTimeout(2e3);return}let{email:o="",password:i=""}=this.loginForm.value;this.authService.login(o,i).subscribe(n=>{if(n){this.router.navigateByUrl("/");return}this.errorTimeout(2e3)})}errorTimeout(o){this.hasError.set(!0),setTimeout(()=>{this.hasError.set(!1)},o)}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=h({type:r,selectors:[["app-login-page"]],decls:19,vars:4,consts:[[1,"text-xl","text-accent","font-montserrat","text-center","mb-2"],["autocomplete","off",1,"flex","flex-col","gap-2",3,"ngSubmit","formGroup"],[1,"input","input-bordered","flex","items-center","gap-2"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 16 16","fill","currentColor",1,"h-4","w-4","opacity-70"],["d","M2.5 3A1.5 1.5 0 0 0 1 4.5v.793c.026.009.051.02.076.032L7.674 8.51c.206.1.446.1.652 0l6.598-3.185A.755.755 0 0 1 15 5.293V4.5A1.5 1.5 0 0 0 13.5 3h-11Z"],["d","M15 6.954 8.978 9.86a2.25 2.25 0 0 1-1.956 0L1 6.954V11.5A1.5 1.5 0 0 0 2.5 13h11a1.5 1.5 0 0 0 1.5-1.5V6.954Z"],["formControlName","email","type","text","placeholder","Correo electronico",1,"grow"],["fill-rule","evenodd","d","M14 6a4 4 0 0 1-4.899 3.899l-1.955 1.955a.5.5 0 0 1-.353.146H5v1.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2.293a.5.5 0 0 1 .146-.353l3.955-3.955A4 4 0 1 1 14 6Zm-4-2a.75.75 0 0 0 0 1.5.5.5 0 0 1 .5.5.75.75 0 0 0 1.5 0 2 2 0 0 0-2-2Z","clip-rule","evenodd"],["formControlName","password","type","password","placeholder","Contrase\xF1a",1,"grow"],["type","submit",1,"btn","btn-secondary"],[1,"text-slate-700","text-center"],[1,"text-secondary",3,"routerLink"],["role","alert",1,"alert","alert-error","animate-fadeIn","fixed","bottom-5","left-1/2","-translate-x-1/2","w-full","max-w-xs"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"h-6","w-6","shrink-0","stroke-current"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"]],template:function(i,n){i&1&&(e(0,"h2",0),a(1,` Iniciar sesi\xF3n
`),t(),e(2,"form",1),S("ngSubmit",function(){return n.onSubmit()}),e(3,"label",2),c(),e(4,"svg",3),s(5,"path",4)(6,"path",5),t(),d(),s(7,"input",6),t(),e(8,"label",2),c(),e(9,"svg",3),s(10,"path",7),t(),d(),s(11,"input",8),t(),e(12,"button",9),a(13,"Ingresar"),t(),e(14,"p",10),a(15," \xBFNo tienes cuenta? "),e(16,"a",11),a(17,"Crea una aqu\xED"),t()()(),f(18,H,5,0,"div",12)),i&2&&(l(2),x("formGroup",n.loginForm),l(14),x("routerLink",G(3,q)),l(2),u(n.hasError()?18:-1))},dependencies:[A,P,_,F,y,E,N,T],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})};function O(r,o){if(r&1&&(e(0,"div",4)(1,"span",12),a(2),t()()),r&2){let i=v();l(2),C(i.formUtil.getFieldError(i.registerForm,"fullName"))}}function Z(r,o){if(r&1&&(e(0,"div",4)(1,"span",12),a(2),t()()),r&2){let i=v();l(2),C(i.formUtil.getFieldError(i.registerForm,"email"))}}function z(r,o){if(r&1&&(e(0,"div",4)(1,"span",12),a(2),t()()),r&2){let i=v();l(2),C(i.formUtil.getFieldError(i.registerForm,"password"))}}function J(r,o){if(r&1&&(e(0,"div",10),c(),e(1,"svg",13),s(2,"path",14),t(),d(),e(3,"span"),a(4),t()()),r&2){let i=v();l(4),C(i.errorMessage())}}function K(r,o){r&1&&(e(0,"div",11),c(),e(1,"svg",13),s(2,"path",15),t(),d(),e(3,"span"),a(4,"Usuario registrado correctamente."),t()())}var k=class r{fb=p(M);authService=p(w);router=p(b);formUtil=I;hasError=g(!1);errorMessage=g(null);hasSuccess=g(!1);registerForm=this.fb.group({email:["",[m.required,m.email]],password:["",[m.required,m.minLength(4)]],fullName:["",[m.required,m.minLength(3)]]});onSubmit(){if(this.registerForm.markAllAsTouched(),this.registerForm.invalid)return;let{email:o="",password:i="",fullName:n=""}=this.registerForm.value;this.authService.register(o,i,n).subscribe({next:()=>{this.errorMessage.set(null),this.hasError.set(!1),this.successTimeout(3e3)},error:D=>{this.errorTimeout(3e3),this.errorMessage.set(D.message)}})}errorTimeout(o){this.hasError.set(!0),setTimeout(()=>{this.hasError.set(!1)},o)}successTimeout(o){this.hasSuccess.set(!0),setTimeout(()=>{this.hasSuccess.set(!1),this.registerForm.reset(),this.router.navigate(["/auth/login"])},o)}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=h({type:r,selectors:[["app-register-page"]],decls:26,vars:6,consts:[[1,"text-xl","text-accent","font-montserrat","text-center","mb-2"],["autocomplete","off",3,"ngSubmit","formGroup"],[1,"flex","flex-col","gap-4"],[1,"form-control","w-full","max-w-xs"],[1,"label"],[1,"label-text","text-slate-700"],["type","text","formControlName","fullName",1,"input","input-bordered","w-full","max-w-xs"],["formControlName","email","type","email",1,"input","input-bordered","w-full","max-w-xs"],["formControlName","password","type","password",1,"input","input-bordered","w-full","max-w-xs"],["type","submit",1,"btn","btn-secondary"],["role","alert",1,"alert","alert-error","animate-fadeIn","fixed","bottom-5","left-1/2","-translate-x-1/2","w-full","max-w-xs"],["role","alert",1,"alert","alert-success","animate-fadeIn","fixed","bottom-5","left-1/2","-translate-x-1/2","w-full","max-w-xs"],[1,"label-text-alt","text-red-500","text-sm"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"h-6","w-6","shrink-0","stroke-current"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"]],template:function(i,n){i&1&&(e(0,"h2",0),a(1,` Registrarse
`),t(),e(2,"form",1),S("ngSubmit",function(){return n.onSubmit()}),e(3,"div",2)(4,"label",3)(5,"div",4)(6,"span",5),a(7,"Nombre completo:"),t()(),s(8,"input",6),f(9,O,3,1,"div",4),t(),e(10,"label",3)(11,"div",4)(12,"span",5),a(13,"Correo electronico:"),t()(),s(14,"input",7),f(15,Z,3,1,"div",4),t(),e(16,"label",3)(17,"div",4)(18,"span",5),a(19,"Contrase\xF1a:"),t()(),s(20,"input",8),f(21,z,3,1,"div",4),t(),e(22,"button",9),a(23,"Registrar"),t()()(),f(24,J,5,1,"div",10)(25,K,5,0,"div",11)),i&2&&(l(2),x("formGroup",n.registerForm),l(7),u(n.formUtil.isValidField(n.registerForm,"fullName")?9:-1),l(6),u(n.formUtil.isValidField(n.registerForm,"email")?15:-1),l(6),u(n.formUtil.isValidField(n.registerForm,"password")?21:-1),l(3),u(n.hasError()?24:-1),l(),u(n.hasSuccess()?25:-1))},dependencies:[P,_,F,y,E,N,T],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})};var Q=[{path:"",component:L,children:[{path:"login",component:R},{path:"register",component:k},{path:"**",redirectTo:"login"}]}],ve=Q;export{Q as authRoutes,ve as default};
